{"ast":null,"code":"import{useState,useEffect}from\"react\";import\"@/App.css\";import{motion,AnimatePresence}from\"framer-motion\";import{Check,ChevronRight,LogOut,Copy,ArrowLeft,ArrowRight,X}from\"lucide-react\";import{Button}from\"@/components/ui/button\";import{Checkbox}from\"@/components/ui/checkbox\";import{Toaster,toast}from\"sonner\";import contentData from\"@/data/contentData.json\";// Image Lightbox Component\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ImageLightbox=_ref=>{let{images,onClose}=_ref;useEffect(()=>{const handleEsc=e=>{if(e.key==='Escape')onClose();};// Prevent body scroll when lightbox is open\ndocument.body.style.overflow='hidden';window.addEventListener('keydown',handleEsc);return()=>{document.body.style.overflow='auto';window.removeEventListener('keydown',handleEsc);};},[onClose]);return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 z-[9999] bg-black/80 flex items-center justify-center\",style:{position:'fixed',top:0,left:0,right:0,bottom:0},onClick:onClose,\"data-testid\":\"image-lightbox\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-[10000]\",\"data-testid\":\"lightbox-close\",children:/*#__PURE__*/_jsx(X,{className:\"w-6 h-6 text-white\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-4 items-center justify-center\",onClick:e=>e.stopPropagation(),children:images.map((img,idx)=>/*#__PURE__*/_jsx(\"img\",{src:img.src,alt:img.alt,className:\"max-h-[85vh] object-contain rounded-lg shadow-2xl\",style:{maxWidth:images.length>1?'45vw':'90vw'}},idx))})]});};// Stepper Component\nconst Stepper=_ref2=>{let{currentStep,steps}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-start md:justify-center gap-1 md:gap-2 mb-6 md:mb-8 overflow-x-auto pb-2 px-2\",\"data-testid\":\"stepper\",children:steps.map((step,index)=>{const isCompleted=index<currentStep;const isActive=index===currentStep;const stepNumber=index+1;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center flex-shrink-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{scale:0.8},animate:{scale:1},className:\"\\n                  w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-semibold\\n                  transition-all duration-300 shadow-sm\\n                  \".concat(isCompleted?'bg-[#0F172A] text-white':'',\"\\n                  \").concat(isActive?'bg-[#FF7870] text-white ring-2 md:ring-4 ring-pink-100':'',\"\\n                  \").concat(!isCompleted&&!isActive?'bg-white border-2 border-slate-200 text-slate-400':'',\"\\n                \"),\"data-testid\":\"stepper-step-\".concat(stepNumber),children:isCompleted?/*#__PURE__*/_jsx(Check,{className:\"w-4 h-4 md:w-5 md:h-5\"}):stepNumber}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[10px] md:text-xs mt-1 md:mt-2 font-medium \".concat(isActive?'text-[#0F172A]':'text-slate-400'),children:step.label}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[8px] md:text-[10px] text-slate-400 hidden sm:block\",children:step.sublabel})]}),index<steps.length-1&&/*#__PURE__*/_jsx(ChevronRight,{className:\"w-3 h-3 md:w-4 md:h-4 mx-1 md:mx-3 text-slate-300 mt-[-20px]\"})]},step.id);})});};// Tab Component\nconst TabButton=_ref3=>{let{active,children,onClick,testId}=_ref3;return/*#__PURE__*/_jsx(\"button\",{onClick:onClick,\"data-testid\":testId,className:\"\\n      px-3 py-1.5 md:px-6 md:py-2.5 rounded-full text-xs md:text-sm font-medium transition-all duration-200\\n      \".concat(active?'bg-[#0F172A] text-white shadow-md':'bg-white text-slate-600 hover:bg-slate-50 border border-slate-200',\"\\n    \"),children:children});};// Copy Button Component\nconst CopyButton=_ref4=>{let{text,label}=_ref4;const handleCopy=async e=>{e.stopPropagation();try{await navigator.clipboard.writeText(text);toast.success(\"\".concat(label||'Text',\" copied!\"));}catch(err){const textArea=document.createElement(\"textarea\");textArea.value=text;textArea.style.position=\"fixed\";textArea.style.left=\"-999999px\";document.body.appendChild(textArea);textArea.focus();textArea.select();try{document.execCommand(\"copy\");toast.success(\"\".concat(label||'Text',\" copied!\"));}catch(e){toast.error(\"Could not copy\");}document.body.removeChild(textArea);}};return/*#__PURE__*/_jsx(\"button\",{onClick:handleCopy,className:\"p-1.5 hover:bg-slate-100 rounded-md transition-colors\",\"data-testid\":\"copy-\".concat((label===null||label===void 0?void 0:label.toLowerCase().replace(/\\s+/g,'-'))||'text'),children:/*#__PURE__*/_jsx(Copy,{className:\"w-4 h-4 text-slate-400 hover:text-slate-600\"})});};// Visual Style Step\nconst VisualStyleStep=_ref5=>{let{visualStyles,selectedStyle,onSelect,onImageClick}=_ref5;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:\"animate-fadeIn\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg md:text-2xl font-bold text-center mb-2 text-[#0F172A]\",children:\"Choose Your Visual Style\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 text-center mb-4 md:mb-8 text-sm md:text-base\",children:\"Select a visual style that matches your content theme\"}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden space-y-4\",children:visualStyles.map(style=>/*#__PURE__*/_jsx(motion.div,{whileHover:{backgroundColor:'rgba(255, 120, 112, 0.05)'},className:\"bg-white rounded-xl border border-slate-100 shadow-sm p-4 cursor-pointer transition-colors \".concat((selectedStyle===null||selectedStyle===void 0?void 0:selectedStyle.id)===style.id?'bg-pink-50/50 border-pink-200':''),onClick:()=>onSelect(style),\"data-testid\":\"visual-style-\".concat(style.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(Checkbox,{checked:(selectedStyle===null||selectedStyle===void 0?void 0:selectedStyle.id)===style.id,onCheckedChange:()=>onSelect(style),\"data-testid\":\"visual-style-checkbox-\".concat(style.id),className:\"mt-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm text-[#0F172A] mb-2\",children:style.title}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 overflow-x-auto pb-2\",children:style.images.map((img,idx)=>/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"\".concat(style.title,\" preview \").concat(idx+1),className:\"w-24 h-32 flex-shrink-0 object-cover rounded-lg border border-slate-200 cursor-zoom-in hover:border-[#FF7870] transition-all\",onClick:e=>{e.stopPropagation();onImageClick(style.images.map((imgUrl,i)=>({src:imgUrl,alt:\"\".concat(style.title,\" preview \").concat(i+1)})));},\"data-testid\":\"image-\".concat(style.id,\"-\").concat(idx)},idx))}),style.info&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-500 italic mt-2\",children:style.info})]})]})},style.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:block bg-white rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/50 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-[60px_1fr_2fr] bg-[#0F172A] text-white text-xs font-bold uppercase tracking-wider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Select\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Images\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Info\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-slate-50\",children:visualStyles.map(style=>/*#__PURE__*/_jsxs(motion.div,{whileHover:{backgroundColor:'rgba(255, 120, 112, 0.05)'},className:\"grid grid-cols-[60px_1fr_2fr] items-center cursor-pointer transition-colors \".concat((selectedStyle===null||selectedStyle===void 0?void 0:selectedStyle.id)===style.id?'bg-pink-50/50':''),onClick:()=>onSelect(style),\"data-testid\":\"visual-style-\".concat(style.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 flex justify-center\",children:/*#__PURE__*/_jsx(Checkbox,{checked:(selectedStyle===null||selectedStyle===void 0?void 0:selectedStyle.id)===style.id,onCheckedChange:()=>onSelect(style),\"data-testid\":\"visual-style-checkbox-\".concat(style.id)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-sm text-[#0F172A] mb-2\",children:style.title}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-3\",children:style.images.map((img,idx)=>/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"\".concat(style.title,\" preview \").concat(idx+1),className:\"w-44 h-56 object-cover rounded-lg border border-slate-200 cursor-zoom-in hover:border-[#FF7870] hover:shadow-md transition-all\",onClick:e=>{e.stopPropagation();onImageClick(style.images.map((imgUrl,i)=>({src:imgUrl,alt:\"\".concat(style.title,\" preview \").concat(i+1)})));},\"data-testid\":\"image-\".concat(style.id,\"-\").concat(idx)},idx))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4\",children:style.info&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 italic\",children:style.info})})]},style.id))})]})]});};// Hook Step\nconst HookStep=_ref6=>{var _selectedStyle$title;let{hooks,selectedHook,onSelect,selectedStyle}=_ref6;// Check if selected style is a \"Mistakes\" style\nconst isMistakeStyle=selectedStyle===null||selectedStyle===void 0?void 0:(_selectedStyle$title=selectedStyle.title)===null||_selectedStyle$title===void 0?void 0:_selectedStyle$title.toLowerCase().includes('mistake');// Different categories based on style type\nconst regularCategories=[\"Ex TikTok\",\"Professor\",\"Official TikTok\",\"Experienced\",\"Journalist\",\"New TikTok Algorithm\",\"Learnings\",\"AI Tips\"];const mistakeCategories=[\"Ex TikTok - Mistakes\",\"Professor - Mistakes\",\"Official TikTok - Mistakes\",\"Experienced - Mistakes\",\"Learnings - Mistakes\"];const categories=isMistakeStyle?mistakeCategories:regularCategories;const displayCategories=isMistakeStyle?[\"Ex TikTok\",\"Professor\",\"Official TikTok\",\"Experienced\",\"Learnings\"]:regularCategories;const[activeCategory,setActiveCategory]=useState(categories[0]);// Update active category when style changes\nuseEffect(()=>{const newCategories=isMistakeStyle?[\"Ex TikTok - Mistakes\",\"Professor - Mistakes\",\"Official TikTok - Mistakes\",\"Experienced - Mistakes\",\"Learnings - Mistakes\"]:[\"Ex TikTok\",\"Professor\",\"Official TikTok\",\"Experienced\",\"Journalist\",\"New TikTok Algorithm\",\"Learnings\",\"AI Tips\"];setActiveCategory(newCategories[0]);},[isMistakeStyle]);const filteredHooks=hooks.filter(h=>h.category===activeCategory);const handleCategoryClick=(displayCat,idx)=>{if(isMistakeStyle){setActiveCategory(mistakeCategories[idx]);}else{setActiveCategory(displayCat);}};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg md:text-2xl font-bold text-center mb-2 text-[#0F172A]\",children:\"Choose Your Hook\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 text-center mb-2 text-sm md:text-base\",children:\"Select a hook that will grab your audience's attention\"}),selectedStyle&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-[#FF7870] text-center text-xs md:text-sm mb-4 md:mb-6\",children:[\"Showing only \",isMistakeStyle?'Mistake':selectedStyle.title.replace(':',''),\" hooks based on your visual style selection\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1 md:gap-2 justify-center mb-4 md:mb-6\",children:displayCategories.map((cat,idx)=>/*#__PURE__*/_jsx(TabButton,{active:isMistakeStyle?activeCategory===mistakeCategories[idx]:activeCategory===cat,onClick:()=>handleCategoryClick(cat,idx),testId:\"hook-tab-\".concat(cat.toLowerCase().replace(/\\s+/g,'-')),children:cat},cat))}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden space-y-3\",children:filteredHooks.map(hook=>/*#__PURE__*/_jsx(motion.div,{whileHover:{backgroundColor:'rgba(255, 120, 112, 0.05)'},className:\"bg-white rounded-xl border border-slate-100 shadow-sm p-4 cursor-pointer transition-colors \".concat((selectedHook===null||selectedHook===void 0?void 0:selectedHook.id)===hook.id?'bg-pink-50/50 border-pink-200':''),onClick:()=>onSelect(hook),\"data-testid\":\"hook-\".concat(hook.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(Checkbox,{checked:(selectedHook===null||selectedHook===void 0?void 0:selectedHook.id)===hook.id,onCheckedChange:()=>onSelect(hook),\"data-testid\":\"hook-checkbox-\".concat(hook.id),className:\"mt-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#0F172A] mb-2\",children:hook.idea}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-2 text-xs\",children:[hook.reference_links&&hook.reference_links!=='-'&&/*#__PURE__*/_jsx(\"a\",{href:hook.reference_links,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-[#FF7870] hover:underline\",children:\"View Reference \\u2192\"}),hook.notes&&/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-500\",children:hook.notes})]})]})]})},hook.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:block bg-white rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/50 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-[60px_80px_1fr_150px_100px] bg-[#0F172A] text-white text-xs font-bold uppercase tracking-wider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Select\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Rank\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Idea\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Reference Links\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Notes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-slate-50\",children:filteredHooks.map(hook=>/*#__PURE__*/_jsxs(motion.div,{whileHover:{backgroundColor:'rgba(255, 120, 112, 0.05)'},className:\"grid grid-cols-[60px_80px_1fr_150px_100px] items-center cursor-pointer transition-colors \".concat((selectedHook===null||selectedHook===void 0?void 0:selectedHook.id)===hook.id?'bg-pink-50/50':''),onClick:()=>onSelect(hook),\"data-testid\":\"hook-\".concat(hook.id),children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 flex justify-center\",children:/*#__PURE__*/_jsx(Checkbox,{checked:(selectedHook===null||selectedHook===void 0?void 0:selectedHook.id)===hook.id,onCheckedChange:()=>onSelect(hook),\"data-testid\":\"hook-checkbox-\".concat(hook.id)})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 text-sm text-slate-500\",children:hook.rank||'-'}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 text-sm text-[#0F172A]\",children:hook.idea}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 text-sm text-slate-500\",children:hook.reference_links&&hook.reference_links!=='-'?/*#__PURE__*/_jsx(\"a\",{href:hook.reference_links,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-[#FF7870] hover:underline truncate block max-w-[130px]\",children:\"View\"}):'-'}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 text-sm text-slate-500\",children:hook.notes||'-'})]},hook.id))})]})]});};// Script Step\nconst ScriptStep=_ref7=>{var _selectedStyle$title2,_selectedScripts$1,_selectedScripts$10,_selectedScripts$11,_selectedScripts$12,_selectedScripts$13,_selectedScripts$14,_selectedScripts$15,_selectedScripts$16;let{scripts,selectedScripts,onSelect,currentScriptIndex,setCurrentScriptIndex,selectedStyle}=_ref7;// Check if selected style is a \"Mistakes\" style\nconst isMistakeStyle=selectedStyle===null||selectedStyle===void 0?void 0:(_selectedStyle$title2=selectedStyle.title)===null||_selectedStyle$title2===void 0?void 0:_selectedStyle$title2.toLowerCase().includes('mistake');// Determine which tab should be active based on current script index and previous selections\nconst getDefaultTab=index=>{if(index===3)return\"viral_plug\";// Script 4 must be Viral Plug\nif(index===0)return\"choice\";// Script 1: user chooses between other and engagement\nif(index===1){var _selectedScripts$;// Script 2: show the opposite of what was chosen in Script 1\nconst script1Type=(_selectedScripts$=selectedScripts[0])===null||_selectedScripts$===void 0?void 0:_selectedScripts$.type;return script1Type===\"engagement\"?\"other\":\"engagement\";}if(index===2)return\"other\";// Script 3: other scripts\nif(index===4)return\"other\";// Script 5: other scripts\nreturn\"other\";};const[activeTab,setActiveTab]=useState(\"other\");// Update tab when currentScriptIndex changes\nuseEffect(()=>{// Determine which tab should be active based on current script index\nif(currentScriptIndex===3){setActiveTab(isMistakeStyle?\"mistake_viral\":\"viral_plug\");}else if(currentScriptIndex===0){// Default for script 1: \"other\" for normal, \"mistake\" for mistake styles\nsetActiveTab(isMistakeStyle?\"mistake\":\"other\");}else if(currentScriptIndex===1){// Script 2: show the opposite of what was chosen in Script 1\nif(isMistakeStyle){var _selectedScripts$2;const script1Type=(_selectedScripts$2=selectedScripts[0])===null||_selectedScripts$2===void 0?void 0:_selectedScripts$2.type;setActiveTab(script1Type===\"mistake_engagement\"?\"mistake\":\"mistake_engagement\");}else{var _selectedScripts$3;const script1Type=(_selectedScripts$3=selectedScripts[0])===null||_selectedScripts$3===void 0?void 0:_selectedScripts$3.type;setActiveTab(script1Type===\"engagement\"?\"other\":\"engagement\");}}else if(currentScriptIndex===2||currentScriptIndex===4){setActiveTab(isMistakeStyle?\"mistake\":\"other\");}},[currentScriptIndex,selectedScripts,isMistakeStyle]);// Get filtered scripts based on active tab and style type\nconst getFilteredScripts=()=>{// For Mistake styles, Script 1 uses activeTab (mistake or mistake_engagement)\nif(isMistakeStyle&&currentScriptIndex===0){return scripts.filter(s=>s.type===activeTab);}// For Mistake styles, Script 2 shows the opposite of Script 1\nif(isMistakeStyle&&currentScriptIndex===1){var _selectedScripts$4;const script1Type=(_selectedScripts$4=selectedScripts[0])===null||_selectedScripts$4===void 0?void 0:_selectedScripts$4.type;const targetType=script1Type===\"mistake_engagement\"?\"mistake\":\"mistake_engagement\";return scripts.filter(s=>s.type===targetType);}// For Mistake styles, Scripts 3, 5 show mistake scripts\nif(isMistakeStyle&&(currentScriptIndex===2||currentScriptIndex===4)){return scripts.filter(s=>s.type===\"mistake\");}// For Mistake styles, Script 4 shows mistake_viral\nif(isMistakeStyle&&currentScriptIndex===3){return scripts.filter(s=>s.type===\"mistake_viral\");}return scripts.filter(s=>s.type===activeTab);};const filteredScripts=getFilteredScripts();// Get the type label for a script position\nconst getScriptTypeLabel=(index,script)=>{if(index===3){return(script===null||script===void 0?void 0:script.type)===\"mistake_viral\"?\"Mistake Viral Plug\":\"Viral Plug\";}if((script===null||script===void 0?void 0:script.type)===\"engagement\")return\"Engagement Trigger\";if((script===null||script===void 0?void 0:script.type)===\"mistake_engagement\")return\"Mistake Engagement\";if((script===null||script===void 0?void 0:script.type)===\"mistake\")return\"Mistake Script\";if((script===null||script===void 0?void 0:script.type)===\"mistake_viral\")return\"Mistake Viral Plug\";return\"Other Script\";};// Get the subtitle for current script\nconst getScriptSubtitle=()=>{if(isMistakeStyle){if(currentScriptIndex===0)return\"Choose: Mistake Scripts OR Mistake Engagement\";if(currentScriptIndex===1){var _selectedScripts$5;const script1Type=(_selectedScripts$5=selectedScripts[0])===null||_selectedScripts$5===void 0?void 0:_selectedScripts$5.type;return script1Type===\"mistake_engagement\"?\"Mistake Scripts (auto-selected)\":\"Mistake Engagement (auto-selected)\";}if(currentScriptIndex===2)return\"Mistake Scripts\";if(currentScriptIndex===3)return\"Mistake Viral Plug (Mistake Style)\";if(currentScriptIndex===4)return\"Mistake Scripts\";}if(currentScriptIndex===0)return\"Choose: Other Scripts OR Engagement Triggers\";if(currentScriptIndex===1){var _selectedScripts$6;const script1Type=(_selectedScripts$6=selectedScripts[0])===null||_selectedScripts$6===void 0?void 0:_selectedScripts$6.type;return script1Type===\"engagement\"?\"Other Scripts (auto-selected)\":\"Engagement Triggers (auto-selected)\";}if(currentScriptIndex===2)return\"Other Scripts\";if(currentScriptIndex===3)return\"Viral Plug Required\";if(currentScriptIndex===4)return\"Other Scripts\";return\"\";};// Check if a script can be selected for current position\nconst canSelectScript=script=>{// Check if already selected\nconst isSelected=selectedScripts.some(s=>(s===null||s===void 0?void 0:s.id)===script.id);if(isSelected)return false;// Script 4: For Mistake styles use mistake_viral, otherwise viral_plug\nif(currentScriptIndex===3){return isMistakeStyle?script.type===\"mistake_viral\":script.type===\"viral_plug\";}// Mistake viral only for Script 4 in Mistake styles\nif(script.type===\"mistake_viral\"){return isMistakeStyle&&currentScriptIndex===3;}// Viral plug only for Script 4 in normal styles\nif(script.type===\"viral_plug\"){return!isMistakeStyle&&currentScriptIndex===3;}// For Mistake styles, Script 1 can choose mistake or mistake_engagement\nif(isMistakeStyle&&currentScriptIndex===0){return script.type===\"mistake\"||script.type===\"mistake_engagement\";}// For Mistake styles, Script 2 must be opposite of Script 1\nif(isMistakeStyle&&currentScriptIndex===1){var _selectedScripts$7;const script1Type=(_selectedScripts$7=selectedScripts[0])===null||_selectedScripts$7===void 0?void 0:_selectedScripts$7.type;return script.type!==script1Type;}// For Mistake styles, Scripts 3, 5 show mistake scripts\nif(isMistakeStyle&&(currentScriptIndex===2||currentScriptIndex===4)){return script.type===\"mistake\";}// Script 1: can choose either other or engagement\nif(currentScriptIndex===0){return script.type===\"other\"||script.type===\"engagement\";}// Script 2: must be opposite of script 1\nif(currentScriptIndex===1){var _selectedScripts$8;const script1Type=(_selectedScripts$8=selectedScripts[0])===null||_selectedScripts$8===void 0?void 0:_selectedScripts$8.type;return script.type!==script1Type;}// Script 3 and 5: only other scripts (engagement already used in script 1 or 2)\nif(currentScriptIndex===2||currentScriptIndex===4){return script.type===\"other\";}return true;};// Get disabled reason for a script\nconst getDisabledReason=script=>{if(selectedScripts.some(s=>(s===null||s===void 0?void 0:s.id)===script.id)){return\"Already selected\";}// For Mistake styles, Script 2 must be opposite of Script 1\nif(isMistakeStyle&&currentScriptIndex===1){var _selectedScripts$9;const script1Type=(_selectedScripts$9=selectedScripts[0])===null||_selectedScripts$9===void 0?void 0:_selectedScripts$9.type;if(script.type===script1Type){return\"Script 1 already selected \".concat(script1Type===\"mistake_engagement\"?\"Mistake Engagement\":\"Mistake Script\");}}// For Mistake styles, Scripts 3, 5 must be mistake\nif(isMistakeStyle&&(currentScriptIndex===2||currentScriptIndex===4)&&script.type!==\"mistake\"){return\"Mistake style requires Mistake Scripts\";}if(currentScriptIndex===1){var _selectedScripts$0;const script1Type=(_selectedScripts$0=selectedScripts[0])===null||_selectedScripts$0===void 0?void 0:_selectedScripts$0.type;if(script.type===script1Type){return\"Script 1 already selected \".concat(script1Type===\"engagement\"?\"Engagement Trigger\":\"Other Script\");}}if(currentScriptIndex===2||currentScriptIndex===4){if(script.type===\"engagement\"){return\"Engagement Trigger already used\";}}return\"\";};const handleRemoveScript=index=>{onSelect(undefined,index,true);setCurrentScriptIndex(index);};// Get available types for Script 1 choice buttons\nconst getAvailableTypesForScript1=()=>{return[{type:\"other\",label:\"Other Scripts\"},{type:\"engagement\",label:\"Engagement Triggers\"}];};return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg md:text-2xl font-bold text-center mb-2 text-[#0F172A]\",children:\"Choose Your 5 Scripts\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 text-center mb-2 text-xs md:text-sm\",children:isMistakeStyle?\"Mistake Style: Script 1 = Mistake Engagement • Scripts 2,3,5 = Mistake Scripts • Script 4 = Mistake Viral Plug\":\"Script 1: Choose type • Script 2: Auto-filled opposite • Script 4: Viral Plug • Scripts 3 & 5: Other Scripts\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl md:rounded-2xl border border-slate-100 shadow-lg p-4 md:p-6 mb-4 md:mb-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-center text-slate-600 mb-4\",children:\"Script Selection Progress\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center gap-2\",children:[0,1,2,3,4].map(idx=>{const script=selectedScripts[idx];const isActive=idx===currentScriptIndex;const isCompleted=script!==undefined;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center min-w-[60px] md:min-w-[80px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\\n                      w-7 h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center text-[10px] md:text-xs font-semibold cursor-pointer\\n                      \".concat(isCompleted?'bg-[#0F172A] text-white':'',\"\\n                      \").concat(isActive&&!isCompleted?'bg-[#FF7870] text-white':'',\"\\n                      \").concat(!isActive&&!isCompleted?'bg-white border-2 border-slate-200 text-slate-400':'',\"\\n                    \"),onClick:()=>!isCompleted&&setCurrentScriptIndex(idx),children:isCompleted?/*#__PURE__*/_jsx(Check,{className:\"w-3 h-3 md:w-4 md:h-4\"}):idx+1}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-[8px] md:text-[10px] mt-1 font-medium text-slate-700\",children:[\"Script \",idx+1]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-[7px] md:text-[9px] text-slate-400 text-center hidden sm:block\",children:getScriptTypeLabel(idx,script)}),isCompleted&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRemoveScript(idx),className:\"text-[8px] md:text-[10px] text-[#FF7870] hover:underline mt-1 font-medium\",\"data-testid\":\"remove-script-\".concat(idx),children:\"Remove\"})]}),idx<4&&/*#__PURE__*/_jsx(ChevronRight,{className:\"w-2 h-2 md:w-3 md:h-3 mx-0.5 md:mx-1 text-slate-300\"})]},idx);})})]}),/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold mb-2 text-[#0F172A]\",children:[\"Select Script \",currentScriptIndex+1]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 mb-4\",children:getScriptSubtitle()}),currentScriptIndex===0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 mb-6\",children:isMistakeStyle?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TabButton,{active:activeTab===\"mistake\"||((_selectedScripts$1=selectedScripts[0])===null||_selectedScripts$1===void 0?void 0:_selectedScripts$1.type)===\"mistake\",onClick:()=>setActiveTab(\"mistake\"),testId:\"scripts-tab-mistake\",children:\"Mistake Scripts\"}),/*#__PURE__*/_jsx(TabButton,{active:activeTab===\"mistake_engagement\"||((_selectedScripts$10=selectedScripts[0])===null||_selectedScripts$10===void 0?void 0:_selectedScripts$10.type)===\"mistake_engagement\",onClick:()=>setActiveTab(\"mistake_engagement\"),testId:\"scripts-tab-mistake-engagement\",children:\"Mistake Engagement\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(TabButton,{active:activeTab===\"other\"||((_selectedScripts$11=selectedScripts[0])===null||_selectedScripts$11===void 0?void 0:_selectedScripts$11.type)===\"other\",onClick:()=>setActiveTab(\"other\"),testId:\"scripts-tab-other\",children:\"Other Scripts\"}),/*#__PURE__*/_jsx(TabButton,{active:activeTab===\"engagement\"||((_selectedScripts$12=selectedScripts[0])===null||_selectedScripts$12===void 0?void 0:_selectedScripts$12.type)===\"engagement\",onClick:()=>setActiveTab(\"engagement\"),testId:\"scripts-tab-engagement\",children:\"Engagement Triggers\"})]})}),currentScriptIndex===1&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-100\",children:isMistakeStyle?/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-700\",children:[\"Script 1 selected: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:((_selectedScripts$13=selectedScripts[0])===null||_selectedScripts$13===void 0?void 0:_selectedScripts$13.type)===\"mistake_engagement\"?\"Mistake Engagement\":\"Mistake Script\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Script 2 must be: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:((_selectedScripts$14=selectedScripts[0])===null||_selectedScripts$14===void 0?void 0:_selectedScripts$14.type)===\"mistake_engagement\"?\"Mistake Script\":\"Mistake Engagement\"})]}):/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-700\",children:[\"Script 1 selected: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:((_selectedScripts$15=selectedScripts[0])===null||_selectedScripts$15===void 0?void 0:_selectedScripts$15.type)===\"engagement\"?\"Engagement Trigger\":\"Other Script\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Script 2 must be: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold\",children:((_selectedScripts$16=selectedScripts[0])===null||_selectedScripts$16===void 0?void 0:_selectedScripts$16.type)===\"engagement\"?\"Other Script\":\"Engagement Trigger\"})]})}),currentScriptIndex===3&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(TabButton,{active:true,onClick:()=>{},testId:isMistakeStyle?\"scripts-tab-mistake-viral\":\"scripts-tab-viral-plug\",children:isMistakeStyle?\"Mistake Viral Plug Scripts\":\"Viral Plug Scripts\"})}),(currentScriptIndex===2||currentScriptIndex===4)&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(TabButton,{active:true,onClick:()=>{},testId:isMistakeStyle?\"scripts-tab-mistake\":\"scripts-tab-other\",children:isMistakeStyle?\"Mistake Scripts\":\"Other Scripts\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"md:hidden space-y-3\",children:filteredScripts.map(script=>{const isSelected=selectedScripts.some(s=>(s===null||s===void 0?void 0:s.id)===script.id);const canSelect=canSelectScript(script);const disabledReason=getDisabledReason(script);return/*#__PURE__*/_jsx(motion.div,{whileHover:{backgroundColor:canSelect?'rgba(255, 120, 112, 0.05)':undefined},className:\"bg-white rounded-xl border border-slate-100 shadow-sm p-4 cursor-pointer transition-colors \".concat(isSelected?'bg-emerald-50/50 border-emerald-200':'',\" \").concat(!canSelect?'opacity-40 cursor-not-allowed':''),onClick:()=>canSelect&&onSelect(script,currentScriptIndex),\"data-testid\":\"script-\".concat(script.id),title:disabledReason,children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(Checkbox,{checked:isSelected,disabled:!canSelect,onCheckedChange:()=>canSelect&&onSelect(script,currentScriptIndex),\"data-testid\":\"script-checkbox-\".concat(script.id),className:\"mt-1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-semibold text-[#0F172A] mb-1\",children:script.paragraph1}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-slate-600 mb-2\",children:script.paragraph2}),isSelected?/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-600 text-xs font-medium\",children:\"Selected\"}):disabledReason?/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400 text-xs italic\",title:disabledReason,children:\"Unavailable\"}):script.notes&&/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-500 text-xs\",children:script.notes})]})]})},script.id);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden md:block bg-white rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/50 overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-[60px_80px_200px_1fr_100px] bg-[#0F172A] text-white text-xs font-bold uppercase tracking-wider\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Select\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Rank\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Paragraph 1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Paragraph 2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-3\",children:\"Notes\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divide-y divide-slate-50\",children:filteredScripts.map(script=>{const isSelected=selectedScripts.some(s=>(s===null||s===void 0?void 0:s.id)===script.id);const canSelect=canSelectScript(script);const disabledReason=getDisabledReason(script);return/*#__PURE__*/_jsxs(motion.div,{whileHover:{backgroundColor:canSelect?'rgba(255, 120, 112, 0.05)':undefined},className:\"grid grid-cols-[60px_80px_200px_1fr_100px] items-start cursor-pointer transition-colors \".concat(isSelected?'bg-emerald-50/50 opacity-50':'',\" \").concat(!canSelect?'opacity-40 cursor-not-allowed':''),onClick:()=>canSelect&&onSelect(script,currentScriptIndex),\"data-testid\":\"script-\".concat(script.id),title:disabledReason,children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 flex justify-center\",children:/*#__PURE__*/_jsx(Checkbox,{checked:isSelected,disabled:!canSelect,onCheckedChange:()=>canSelect&&onSelect(script,currentScriptIndex),\"data-testid\":\"script-checkbox-\".concat(script.id)})}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 text-sm text-slate-500\",children:script.rank||'-'}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 text-sm text-[#0F172A] font-medium\",children:script.paragraph1}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 text-sm text-slate-600\",children:script.paragraph2}),/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-4 text-sm text-slate-500\",children:isSelected?/*#__PURE__*/_jsx(\"span\",{className:\"text-emerald-600 font-medium\",children:\"Selected\"}):disabledReason?/*#__PURE__*/_jsx(\"span\",{className:\"text-slate-400 italic\",title:disabledReason,children:\"Unavailable\"}):script.notes||'-'})]},script.id);})})]}),selectedScripts[currentScriptIndex]&&/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:\"mt-4 p-3 bg-emerald-50 rounded-lg flex items-center gap-2 text-sm\",children:[/*#__PURE__*/_jsx(Check,{className:\"w-4 h-4 text-emerald-600\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-emerald-700\",children:[\"Script \",currentScriptIndex+1,\": \",selectedScripts[currentScriptIndex].paragraph1.substring(0,40),\"...\"]})]})]});};// Summary Step - Improved Layout\nconst SummaryStep=_ref8=>{let{selectedStyle,selectedHook,selectedScripts,onBackToEdit,onImageClick}=_ref8;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg md:text-2xl font-bold text-center mb-2 text-[#0F172A]\",children:\"Content Summary\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500 text-center mb-4 md:mb-8 text-sm md:text-base\",children:\"Review your selections and copy each item for your content creation\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 md:space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl md:rounded-2xl border border-slate-100 shadow-lg p-4 md:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs md:text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3 md:mb-4\",children:\"Visual Style\"}),selectedStyle?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold text-[#0F172A] mb-2 md:mb-3 text-sm md:text-base\",children:selectedStyle.title}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 md:gap-3\",children:selectedStyle.images.map((img,idx)=>/*#__PURE__*/_jsx(\"img\",{src:img,alt:\"\".concat(selectedStyle.title,\" preview \").concat(idx+1),className:\"w-16 h-16 md:w-20 md:h-20 object-cover rounded-lg border border-slate-200 cursor-zoom-in hover:border-[#FF7870] hover:shadow-md transition-all\",onClick:()=>onImageClick(selectedStyle.images.map((imgUrl,i)=>({src:imgUrl,alt:\"\".concat(selectedStyle.title,\" preview \").concat(i+1)})))},idx))})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"No style selected\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl md:rounded-2xl border border-slate-100 shadow-lg p-4 md:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs md:text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3 md:mb-4\",children:\"Hook\"}),selectedHook?/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between gap-2 md:gap-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-[#0F172A] flex-1 text-sm md:text-base\",children:selectedHook.idea}),/*#__PURE__*/_jsx(CopyButton,{text:selectedHook.idea,label:\"Hook\"})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-sm\",children:\"No hook selected\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-xl md:rounded-2xl border border-slate-100 shadow-lg p-4 md:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs md:text-sm font-semibold text-slate-500 uppercase tracking-wider mb-4 md:mb-6\",children:\"Scripts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4 md:space-y-6\",children:selectedScripts.map((script,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"border border-slate-100 rounded-lg md:rounded-xl p-3 md:p-5\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 md:gap-3 mb-3 md:mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-base md:text-lg font-bold text-[#0F172A]\",children:[\"Script \",idx+1]}),/*#__PURE__*/_jsxs(\"span\",{className:\"px-2 py-0.5 md:px-3 md:py-1 bg-[#0F172A] text-white text-[10px] md:text-xs font-medium rounded-full\",children:[\"Position \",idx+1]})]}),script?/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs md:text-sm font-medium text-slate-500\",children:\"Paragraph 1:\"}),/*#__PURE__*/_jsx(CopyButton,{text:script.paragraph1,label:\"Script \".concat(idx+1,\" P1\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-50 rounded-lg p-3 md:p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs md:text-sm text-[#0F172A]\",children:script.paragraph1})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs md:text-sm font-medium text-slate-500\",children:\"Paragraph 2:\"}),/*#__PURE__*/_jsx(CopyButton,{text:script.paragraph2,label:\"Script \".concat(idx+1,\" P2\")})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-slate-50 rounded-lg p-3 md:p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-xs md:text-sm text-[#0F172A]\",children:script.paragraph2})})]})]}):/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-400 text-xs md:text-sm\",children:\"Not selected\"})]},idx))})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center pt-2 md:pt-4\",children:/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:onBackToEdit,className:\"rounded-full px-4 md:px-8 py-3 md:py-6 font-medium border-slate-200 hover:bg-slate-50 text-sm md:text-base\",\"data-testid\":\"back-to-edit-btn\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-4 h-4 mr-1 md:mr-2\"}),\"Back to Edit\"]})})]})]});};// Main Content Creator Component\nconst ContentCreator=()=>{const[currentStep,setCurrentStep]=useState(0);const[visualStyles,setVisualStyles]=useState([]);const[hooks,setHooks]=useState([]);const[scripts,setScripts]=useState([]);const[selectedStyle,setSelectedStyle]=useState(null);const[selectedHook,setSelectedHook]=useState(null);const[selectedScripts,setSelectedScripts]=useState([undefined,undefined,undefined,undefined,undefined]);const[currentScriptIndex,setCurrentScriptIndex]=useState(0);const[lastUpdated]=useState(new Date().toLocaleString('de-DE'));const[lightboxImage,setLightboxImage]=useState(null);const steps=[{id:1,label:\"Visual Style\",sublabel:\"Choose your style\"},{id:2,label:\"Hook\",sublabel:\"Select your hook\"},{id:3,label:\"Scripts\",sublabel:\"Pick 5 scripts\"},{id:4,label:\"Summary\",sublabel:\"Review & copy\"}];useEffect(()=>{// Load data from local JSON file\nsetVisualStyles(contentData.visualStyles);setHooks(contentData.hooks);setScripts(contentData.scripts);},[]);const handleScriptSelect=function(script,index){let remove=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(remove){const newScripts=[...selectedScripts];newScripts[index]=undefined;setSelectedScripts(newScripts);setCurrentScriptIndex(index);return;}const newScripts=[...selectedScripts];newScripts[index]=script;setSelectedScripts(newScripts);// Move to next empty slot\nconst nextEmpty=newScripts.findIndex((s,i)=>i>index&&s===undefined);if(nextEmpty!==-1){setCurrentScriptIndex(nextEmpty);}else{// Find first empty slot\nconst firstEmpty=newScripts.findIndex(s=>s===undefined);if(firstEmpty!==-1){setCurrentScriptIndex(firstEmpty);}}};const canProceed=()=>{switch(currentStep){case 0:return selectedStyle!==null;case 1:return selectedHook!==null;case 2:return selectedScripts.filter(s=>s!==undefined).length===5;default:return true;}};const handleNext=()=>{if(canProceed()&&currentStep<steps.length-1){setCurrentStep(currentStep+1);}};const handleBack=()=>{if(currentStep>0){setCurrentStep(currentStep-1);}};const handleBackToEdit=()=>{setCurrentStep(0);};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen\",\"data-testid\":\"content-creator\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"}),lightboxImage&&/*#__PURE__*/_jsx(ImageLightbox,{images:lightboxImage,onClose:()=>setLightboxImage(null)}),/*#__PURE__*/_jsx(\"header\",{className:\"bg-white/80 backdrop-blur-md border-b border-slate-100 sticky top-0 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 md:gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-7 h-7 md:w-8 md:h-8 bg-[#FF7870] rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold text-base md:text-lg\",children:\"V\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-[#0F172A] text-base md:text-lg\",children:\"She's Viral\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-2 md:gap-4\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center gap-1 md:gap-2 text-[#FF7870] hover:text-[#E66A63] text-xs md:text-sm font-medium\",\"data-testid\":\"sign-out-btn\",children:[/*#__PURE__*/_jsx(LogOut,{className:\"w-3 h-3 md:w-4 md:h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Sign Out\"})]})})]})}),/*#__PURE__*/_jsxs(\"main\",{className:\"max-w-6xl mx-auto px-4 md:px-6 py-4 md:py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4 md:mb-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl md:text-3xl font-bold text-[#0F172A]\",children:\"Content Dashboard\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-slate-500 text-xs md:text-sm\",children:[\"Last updated: \",lastUpdated]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl md:rounded-3xl border border-slate-100 shadow-xl md:shadow-2xl shadow-slate-200/50 p-4 md:p-8 lg:p-12\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg md:text-2xl font-bold text-center mb-4 md:mb-8 text-[#0F172A]\",children:\"Content Creator\"}),/*#__PURE__*/_jsx(Stepper,{currentStep:currentStep,steps:steps}),/*#__PURE__*/_jsxs(AnimatePresence,{mode:\"wait\",children:[currentStep===0&&/*#__PURE__*/_jsx(VisualStyleStep,{visualStyles:visualStyles,selectedStyle:selectedStyle,onSelect:setSelectedStyle,onImageClick:setLightboxImage},\"visual\"),currentStep===1&&/*#__PURE__*/_jsx(HookStep,{hooks:hooks,selectedHook:selectedHook,onSelect:setSelectedHook,selectedStyle:selectedStyle},\"hook\"),currentStep===2&&/*#__PURE__*/_jsx(ScriptStep,{scripts:scripts,selectedScripts:selectedScripts,onSelect:handleScriptSelect,currentScriptIndex:currentScriptIndex,setCurrentScriptIndex:setCurrentScriptIndex,selectedStyle:selectedStyle},\"scripts\"),currentStep===3&&/*#__PURE__*/_jsx(SummaryStep,{selectedStyle:selectedStyle,selectedHook:selectedHook,selectedScripts:selectedScripts,onBackToEdit:handleBackToEdit,onImageClick:setLightboxImage},\"summary\")]})]}),currentStep<3&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-slate-100 py-3 md:py-4 px-4 md:px-6 z-40\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto flex justify-between gap-2 md:gap-4\",children:[/*#__PURE__*/_jsxs(Button,{variant:\"outline\",onClick:handleBack,disabled:currentStep===0,className:\"rounded-full px-4 md:px-8 py-3 md:py-6 font-medium border-slate-200 hover:bg-slate-50 text-sm md:text-base flex-1 md:flex-none\",\"data-testid\":\"back-btn\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-4 h-4 mr-1 md:mr-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Back\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sm:hidden\",children:\"Back\"})]}),/*#__PURE__*/_jsxs(Button,{onClick:handleNext,disabled:!canProceed(),className:\"rounded-full px-4 md:px-8 py-3 md:py-6 font-medium text-sm md:text-base flex-1 md:flex-none \".concat(canProceed()?'bg-[#FF7870] hover:bg-[#E66A63] text-white shadow-lg shadow-pink-200':'bg-slate-100 text-slate-400'),\"data-testid\":\"next-btn\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"hidden sm:inline\",children:\"Next\"}),/*#__PURE__*/_jsx(\"span\",{className:\"sm:hidden\",children:\"Next\"}),/*#__PURE__*/_jsx(ArrowRight,{className:\"w-4 h-4 ml-1 md:ml-2\"})]})]})}),currentStep<3&&/*#__PURE__*/_jsx(\"div\",{className:\"h-20 md:h-24\"})]})]});};function App(){return/*#__PURE__*/_jsx(ContentCreator,{});}export default App;","map":{"version":3,"names":["useState","useEffect","motion","AnimatePresence","Check","ChevronRight","LogOut","Copy","ArrowLeft","ArrowRight","X","Button","Checkbox","Toaster","toast","contentData","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ImageLightbox","_ref","images","onClose","handleEsc","e","key","document","body","style","overflow","window","addEventListener","removeEventListener","className","position","top","left","right","bottom","onClick","children","stopPropagation","map","img","idx","src","alt","maxWidth","length","Stepper","_ref2","currentStep","steps","step","index","isCompleted","isActive","stepNumber","div","initial","scale","animate","concat","label","sublabel","id","TabButton","_ref3","active","testId","CopyButton","_ref4","text","handleCopy","navigator","clipboard","writeText","success","err","textArea","createElement","value","appendChild","focus","select","execCommand","error","removeChild","toLowerCase","replace","VisualStyleStep","_ref5","visualStyles","selectedStyle","onSelect","onImageClick","opacity","y","exit","whileHover","backgroundColor","checked","onCheckedChange","title","imgUrl","i","info","HookStep","_ref6","_selectedStyle$title","hooks","selectedHook","isMistakeStyle","includes","regularCategories","mistakeCategories","categories","displayCategories","activeCategory","setActiveCategory","newCategories","filteredHooks","filter","h","category","handleCategoryClick","displayCat","cat","hook","idea","reference_links","href","target","rel","notes","rank","ScriptStep","_ref7","_selectedStyle$title2","_selectedScripts$1","_selectedScripts$10","_selectedScripts$11","_selectedScripts$12","_selectedScripts$13","_selectedScripts$14","_selectedScripts$15","_selectedScripts$16","scripts","selectedScripts","currentScriptIndex","setCurrentScriptIndex","getDefaultTab","_selectedScripts$","script1Type","type","activeTab","setActiveTab","_selectedScripts$2","_selectedScripts$3","getFilteredScripts","s","_selectedScripts$4","targetType","filteredScripts","getScriptTypeLabel","script","getScriptSubtitle","_selectedScripts$5","_selectedScripts$6","canSelectScript","isSelected","some","_selectedScripts$7","_selectedScripts$8","getDisabledReason","_selectedScripts$9","_selectedScripts$0","handleRemoveScript","undefined","getAvailableTypesForScript1","canSelect","disabledReason","disabled","paragraph1","paragraph2","substring","SummaryStep","_ref8","onBackToEdit","variant","ContentCreator","setCurrentStep","setVisualStyles","setHooks","setScripts","setSelectedStyle","setSelectedHook","setSelectedScripts","lastUpdated","Date","toLocaleString","lightboxImage","setLightboxImage","handleScriptSelect","remove","arguments","newScripts","nextEmpty","findIndex","firstEmpty","canProceed","handleNext","handleBack","handleBackToEdit","mode","App"],"sources":["/Users/artemi/Entwicklung/Developer/ShesViralTool-main/frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport \"@/App.css\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { Check, ChevronRight, LogOut, Copy, ArrowLeft, ArrowRight, X } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Toaster, toast } from \"sonner\";\nimport contentData from \"@/data/contentData.json\";\n\n// Image Lightbox Component\nconst ImageLightbox = ({ images, onClose }) => {\n  useEffect(() => {\n    const handleEsc = (e) => {\n      if (e.key === 'Escape') onClose();\n    };\n    // Prevent body scroll when lightbox is open\n    document.body.style.overflow = 'hidden';\n    window.addEventListener('keydown', handleEsc);\n    return () => {\n      document.body.style.overflow = 'auto';\n      window.removeEventListener('keydown', handleEsc);\n    };\n  }, [onClose]);\n\n  return (\n    <div\n      className=\"fixed inset-0 z-[9999] bg-black/80 flex items-center justify-center\"\n      style={{ position: 'fixed', top: 0, left: 0, right: 0, bottom: 0 }}\n      onClick={onClose}\n      data-testid=\"image-lightbox\"\n    >\n      <button\n        onClick={onClose}\n        className=\"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full transition-colors z-[10000]\"\n        data-testid=\"lightbox-close\"\n      >\n        <X className=\"w-6 h-6 text-white\" />\n      </button>\n      <div className=\"flex gap-4 items-center justify-center\" onClick={(e) => e.stopPropagation()}>\n        {images.map((img, idx) => (\n          <img\n            key={idx}\n            src={img.src}\n            alt={img.alt}\n            className=\"max-h-[85vh] object-contain rounded-lg shadow-2xl\"\n            style={{ maxWidth: images.length > 1 ? '45vw' : '90vw' }}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\n// Stepper Component\nconst Stepper = ({ currentStep, steps }) => {\n  return (\n    <div className=\"flex items-center justify-start md:justify-center gap-1 md:gap-2 mb-6 md:mb-8 overflow-x-auto pb-2 px-2\" data-testid=\"stepper\">\n      {steps.map((step, index) => {\n        const isCompleted = index < currentStep;\n        const isActive = index === currentStep;\n        const stepNumber = index + 1;\n\n        return (\n          <div key={step.id} className=\"flex items-center flex-shrink-0\">\n            <div className=\"flex flex-col items-center\">\n              <motion.div\n                initial={{ scale: 0.8 }}\n                animate={{ scale: 1 }}\n                className={`\n                  w-8 h-8 md:w-10 md:h-10 rounded-full flex items-center justify-center text-xs md:text-sm font-semibold\n                  transition-all duration-300 shadow-sm\n                  ${isCompleted ? 'bg-[#0F172A] text-white' : ''}\n                  ${isActive ? 'bg-[#FF7870] text-white ring-2 md:ring-4 ring-pink-100' : ''}\n                  ${!isCompleted && !isActive ? 'bg-white border-2 border-slate-200 text-slate-400' : ''}\n                `}\n                data-testid={`stepper-step-${stepNumber}`}\n              >\n                {isCompleted ? <Check className=\"w-4 h-4 md:w-5 md:h-5\" /> : stepNumber}\n              </motion.div>\n              <span className={`text-[10px] md:text-xs mt-1 md:mt-2 font-medium ${isActive ? 'text-[#0F172A]' : 'text-slate-400'}`}>\n                {step.label}\n              </span>\n              <span className=\"text-[8px] md:text-[10px] text-slate-400 hidden sm:block\">{step.sublabel}</span>\n            </div>\n            {index < steps.length - 1 && (\n              <ChevronRight className=\"w-3 h-3 md:w-4 md:h-4 mx-1 md:mx-3 text-slate-300 mt-[-20px]\" />\n            )}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\n// Tab Component\nconst TabButton = ({ active, children, onClick, testId }) => (\n  <button\n    onClick={onClick}\n    data-testid={testId}\n    className={`\n      px-3 py-1.5 md:px-6 md:py-2.5 rounded-full text-xs md:text-sm font-medium transition-all duration-200\n      ${active \n        ? 'bg-[#0F172A] text-white shadow-md' \n        : 'bg-white text-slate-600 hover:bg-slate-50 border border-slate-200'\n      }\n    `}\n  >\n    {children}\n  </button>\n);\n\n// Copy Button Component\nconst CopyButton = ({ text, label }) => {\n  const handleCopy = async (e) => {\n    e.stopPropagation();\n    try {\n      await navigator.clipboard.writeText(text);\n      toast.success(`${label || 'Text'} copied!`);\n    } catch (err) {\n      const textArea = document.createElement(\"textarea\");\n      textArea.value = text;\n      textArea.style.position = \"fixed\";\n      textArea.style.left = \"-999999px\";\n      document.body.appendChild(textArea);\n      textArea.focus();\n      textArea.select();\n      try {\n        document.execCommand(\"copy\");\n        toast.success(`${label || 'Text'} copied!`);\n      } catch (e) {\n        toast.error(\"Could not copy\");\n      }\n      document.body.removeChild(textArea);\n    }\n  };\n\n  return (\n    <button\n      onClick={handleCopy}\n      className=\"p-1.5 hover:bg-slate-100 rounded-md transition-colors\"\n      data-testid={`copy-${label?.toLowerCase().replace(/\\s+/g, '-') || 'text'}`}\n    >\n      <Copy className=\"w-4 h-4 text-slate-400 hover:text-slate-600\" />\n    </button>\n  );\n};\n\n// Visual Style Step\nconst VisualStyleStep = ({ visualStyles, selectedStyle, onSelect, onImageClick }) => {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n      className=\"animate-fadeIn\"\n    >\n      <h2 className=\"text-lg md:text-2xl font-bold text-center mb-2 text-[#0F172A]\">Choose Your Visual Style</h2>\n      <p className=\"text-slate-500 text-center mb-4 md:mb-8 text-sm md:text-base\">Select a visual style that matches your content theme</p>\n      \n      {/* Mobile: Card Layout */}\n      <div className=\"md:hidden space-y-4\">\n        {visualStyles.map((style) => (\n          <motion.div\n            key={style.id}\n            whileHover={{ backgroundColor: 'rgba(255, 120, 112, 0.05)' }}\n            className={`bg-white rounded-xl border border-slate-100 shadow-sm p-4 cursor-pointer transition-colors ${\n              selectedStyle?.id === style.id ? 'bg-pink-50/50 border-pink-200' : ''\n            }`}\n            onClick={() => onSelect(style)}\n            data-testid={`visual-style-${style.id}`}\n          >\n            <div className=\"flex items-start gap-3\">\n              <Checkbox \n                checked={selectedStyle?.id === style.id}\n                onCheckedChange={() => onSelect(style)}\n                data-testid={`visual-style-checkbox-${style.id}`}\n                className=\"mt-1\"\n              />\n              <div className=\"flex-1\">\n                <p className=\"font-semibold text-sm text-[#0F172A] mb-2\">{style.title}</p>\n                <div className=\"flex gap-2 overflow-x-auto pb-2\">\n                  {style.images.map((img, idx) => (\n                    <img\n                      key={idx}\n                      src={img}\n                      alt={`${style.title} preview ${idx + 1}`}\n                      className=\"w-24 h-32 flex-shrink-0 object-cover rounded-lg border border-slate-200 cursor-zoom-in hover:border-[#FF7870] transition-all\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onImageClick(style.images.map((imgUrl, i) => ({ \n                          src: imgUrl, \n                          alt: `${style.title} preview ${i + 1}` \n                        })));\n                      }}\n                      data-testid={`image-${style.id}-${idx}`}\n                    />\n                  ))}\n                </div>\n                {style.info && (\n                  <p className=\"text-xs text-slate-500 italic mt-2\">{style.info}</p>\n                )}\n              </div>\n            </div>\n          </motion.div>\n        ))}\n      </div>\n      \n      {/* Desktop: Table Layout */}\n      <div className=\"hidden md:block bg-white rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/50 overflow-hidden\">\n        <div className=\"grid grid-cols-[60px_1fr_2fr] bg-[#0F172A] text-white text-xs font-bold uppercase tracking-wider\">\n          <div className=\"px-4 py-3\">Select</div>\n          <div className=\"px-4 py-3\">Images</div>\n          <div className=\"px-4 py-3\">Info</div>\n        </div>\n        \n        <div className=\"divide-y divide-slate-50\">\n          {visualStyles.map((style) => (\n            <motion.div\n              key={style.id}\n              whileHover={{ backgroundColor: 'rgba(255, 120, 112, 0.05)' }}\n              className={`grid grid-cols-[60px_1fr_2fr] items-center cursor-pointer transition-colors ${\n                selectedStyle?.id === style.id ? 'bg-pink-50/50' : ''\n              }`}\n              onClick={() => onSelect(style)}\n              data-testid={`visual-style-${style.id}`}\n            >\n              <div className=\"px-4 py-4 flex justify-center\">\n                <Checkbox \n                  checked={selectedStyle?.id === style.id}\n                  onCheckedChange={() => onSelect(style)}\n                  data-testid={`visual-style-checkbox-${style.id}`}\n                />\n              </div>\n              <div className=\"px-4 py-4\">\n                <p className=\"font-semibold text-sm text-[#0F172A] mb-2\">{style.title}</p>\n                <div className=\"flex gap-3\">\n                  {style.images.map((img, idx) => (\n                    <img\n                      key={idx}\n                      src={img}\n                      alt={`${style.title} preview ${idx + 1}`}\n                      className=\"w-44 h-56 object-cover rounded-lg border border-slate-200 cursor-zoom-in hover:border-[#FF7870] hover:shadow-md transition-all\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        onImageClick(style.images.map((imgUrl, i) => ({ \n                          src: imgUrl, \n                          alt: `${style.title} preview ${i + 1}` \n                        })));\n                      }}\n                      data-testid={`image-${style.id}-${idx}`}\n                    />\n                  ))}\n                </div>\n              </div>\n              <div className=\"px-4 py-4\">\n                {style.info && (\n                  <p className=\"text-sm text-slate-500 italic\">{style.info}</p>\n                )}\n              </div>\n            </motion.div>\n          ))}\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\n// Hook Step\nconst HookStep = ({ hooks, selectedHook, onSelect, selectedStyle }) => {\n  // Check if selected style is a \"Mistakes\" style\n  const isMistakeStyle = selectedStyle?.title?.toLowerCase().includes('mistake');\n  \n  // Different categories based on style type\n  const regularCategories = [\"Ex TikTok\", \"Professor\", \"Official TikTok\", \"Experienced\", \"Journalist\", \"New TikTok Algorithm\", \"Learnings\", \"AI Tips\"];\n  const mistakeCategories = [\"Ex TikTok - Mistakes\", \"Professor - Mistakes\", \"Official TikTok - Mistakes\", \"Experienced - Mistakes\", \"Learnings - Mistakes\"];\n  \n  const categories = isMistakeStyle ? mistakeCategories : regularCategories;\n  const displayCategories = isMistakeStyle \n    ? [\"Ex TikTok\", \"Professor\", \"Official TikTok\", \"Experienced\", \"Learnings\"]\n    : regularCategories;\n  \n  const [activeCategory, setActiveCategory] = useState(categories[0]);\n  \n  // Update active category when style changes\n  useEffect(() => {\n    const newCategories = isMistakeStyle \n      ? [\"Ex TikTok - Mistakes\", \"Professor - Mistakes\", \"Official TikTok - Mistakes\", \"Experienced - Mistakes\", \"Learnings - Mistakes\"]\n      : [\"Ex TikTok\", \"Professor\", \"Official TikTok\", \"Experienced\", \"Journalist\", \"New TikTok Algorithm\", \"Learnings\", \"AI Tips\"];\n    setActiveCategory(newCategories[0]);\n  }, [isMistakeStyle]);\n  \n  const filteredHooks = hooks.filter(h => h.category === activeCategory);\n\n  const handleCategoryClick = (displayCat, idx) => {\n    if (isMistakeStyle) {\n      setActiveCategory(mistakeCategories[idx]);\n    } else {\n      setActiveCategory(displayCat);\n    }\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n    >\n      <h2 className=\"text-lg md:text-2xl font-bold text-center mb-2 text-[#0F172A]\">Choose Your Hook</h2>\n      <p className=\"text-slate-500 text-center mb-2 text-sm md:text-base\">Select a hook that will grab your audience's attention</p>\n      {selectedStyle && (\n        <p className=\"text-[#FF7870] text-center text-xs md:text-sm mb-4 md:mb-6\">\n          Showing only {isMistakeStyle ? 'Mistake' : selectedStyle.title.replace(':', '')} hooks based on your visual style selection\n        </p>\n      )}\n      \n      <div className=\"flex flex-wrap gap-1 md:gap-2 justify-center mb-4 md:mb-6\">\n        {displayCategories.map((cat, idx) => (\n          <TabButton\n            key={cat}\n            active={isMistakeStyle ? activeCategory === mistakeCategories[idx] : activeCategory === cat}\n            onClick={() => handleCategoryClick(cat, idx)}\n            testId={`hook-tab-${cat.toLowerCase().replace(/\\s+/g, '-')}`}\n          >\n            {cat}\n          </TabButton>\n        ))}\n      </div>\n\n      {/* Mobile: Card Layout */}\n      <div className=\"md:hidden space-y-3\">\n        {filteredHooks.map((hook) => (\n          <motion.div\n            key={hook.id}\n            whileHover={{ backgroundColor: 'rgba(255, 120, 112, 0.05)' }}\n            className={`bg-white rounded-xl border border-slate-100 shadow-sm p-4 cursor-pointer transition-colors ${\n              selectedHook?.id === hook.id ? 'bg-pink-50/50 border-pink-200' : ''\n            }`}\n            onClick={() => onSelect(hook)}\n            data-testid={`hook-${hook.id}`}\n          >\n            <div className=\"flex items-start gap-3\">\n              <Checkbox \n                checked={selectedHook?.id === hook.id}\n                onCheckedChange={() => onSelect(hook)}\n                data-testid={`hook-checkbox-${hook.id}`}\n                className=\"mt-1\"\n              />\n              <div className=\"flex-1\">\n                <p className=\"text-sm text-[#0F172A] mb-2\">{hook.idea}</p>\n                <div className=\"flex flex-wrap gap-2 text-xs\">\n                  {hook.reference_links && hook.reference_links !== '-' && (\n                    <a href={hook.reference_links} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-[#FF7870] hover:underline\">\n                      View Reference →\n                    </a>\n                  )}\n                  {hook.notes && (\n                    <span className=\"text-slate-500\">{hook.notes}</span>\n                  )}\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        ))}\n      </div>\n      \n      {/* Desktop: Table Layout */}\n      <div className=\"hidden md:block bg-white rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/50 overflow-hidden\">\n        <div className=\"grid grid-cols-[60px_80px_1fr_150px_100px] bg-[#0F172A] text-white text-xs font-bold uppercase tracking-wider\">\n          <div className=\"px-4 py-3\">Select</div>\n          <div className=\"px-4 py-3\">Rank</div>\n          <div className=\"px-4 py-3\">Idea</div>\n          <div className=\"px-4 py-3\">Reference Links</div>\n          <div className=\"px-4 py-3\">Notes</div>\n        </div>\n        \n        <div className=\"divide-y divide-slate-50\">\n          {filteredHooks.map((hook) => (\n            <motion.div\n              key={hook.id}\n              whileHover={{ backgroundColor: 'rgba(255, 120, 112, 0.05)' }}\n              className={`grid grid-cols-[60px_80px_1fr_150px_100px] items-center cursor-pointer transition-colors ${\n                selectedHook?.id === hook.id ? 'bg-pink-50/50' : ''\n              }`}\n              onClick={() => onSelect(hook)}\n              data-testid={`hook-${hook.id}`}\n            >\n              <div className=\"px-4 py-4 flex justify-center\">\n                <Checkbox \n                  checked={selectedHook?.id === hook.id}\n                  onCheckedChange={() => onSelect(hook)}\n                  data-testid={`hook-checkbox-${hook.id}`}\n                />\n              </div>\n              <div className=\"px-4 py-4 text-sm text-slate-500\">\n                {hook.rank || '-'}\n              </div>\n              <div className=\"px-4 py-4 text-sm text-[#0F172A]\">\n                {hook.idea}\n              </div>\n              <div className=\"px-4 py-4 text-sm text-slate-500\">\n                {hook.reference_links && hook.reference_links !== '-' ? (\n                  <a href={hook.reference_links} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-[#FF7870] hover:underline truncate block max-w-[130px]\">\n                    View\n                  </a>\n                ) : '-'}\n              </div>\n              <div className=\"px-4 py-4 text-sm text-slate-500\">\n                {hook.notes || '-'}\n              </div>\n            </motion.div>\n          ))}\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\n// Script Step\nconst ScriptStep = ({ scripts, selectedScripts, onSelect, currentScriptIndex, setCurrentScriptIndex, selectedStyle }) => {\n  // Check if selected style is a \"Mistakes\" style\n  const isMistakeStyle = selectedStyle?.title?.toLowerCase().includes('mistake');\n  \n  // Determine which tab should be active based on current script index and previous selections\n  const getDefaultTab = (index) => {\n    if (index === 3) return \"viral_plug\"; // Script 4 must be Viral Plug\n    if (index === 0) return \"choice\"; // Script 1: user chooses between other and engagement\n    if (index === 1) {\n      // Script 2: show the opposite of what was chosen in Script 1\n      const script1Type = selectedScripts[0]?.type;\n      return script1Type === \"engagement\" ? \"other\" : \"engagement\";\n    }\n    if (index === 2) return \"other\"; // Script 3: other scripts\n    if (index === 4) return \"other\"; // Script 5: other scripts\n    return \"other\";\n  };\n  \n  const [activeTab, setActiveTab] = useState(\"other\");\n  \n  // Update tab when currentScriptIndex changes\n  useEffect(() => {\n    // Determine which tab should be active based on current script index\n    if (currentScriptIndex === 3) {\n      setActiveTab(isMistakeStyle ? \"mistake_viral\" : \"viral_plug\");\n    } else if (currentScriptIndex === 0) {\n      // Default for script 1: \"other\" for normal, \"mistake\" for mistake styles\n      setActiveTab(isMistakeStyle ? \"mistake\" : \"other\");\n    } else if (currentScriptIndex === 1) {\n      // Script 2: show the opposite of what was chosen in Script 1\n      if (isMistakeStyle) {\n        const script1Type = selectedScripts[0]?.type;\n        setActiveTab(script1Type === \"mistake_engagement\" ? \"mistake\" : \"mistake_engagement\");\n      } else {\n        const script1Type = selectedScripts[0]?.type;\n        setActiveTab(script1Type === \"engagement\" ? \"other\" : \"engagement\");\n      }\n    } else if (currentScriptIndex === 2 || currentScriptIndex === 4) {\n      setActiveTab(isMistakeStyle ? \"mistake\" : \"other\");\n    }\n  }, [currentScriptIndex, selectedScripts, isMistakeStyle]);\n  \n  // Get filtered scripts based on active tab and style type\n  const getFilteredScripts = () => {\n    // For Mistake styles, Script 1 uses activeTab (mistake or mistake_engagement)\n    if (isMistakeStyle && currentScriptIndex === 0) {\n      return scripts.filter(s => s.type === activeTab);\n    }\n    // For Mistake styles, Script 2 shows the opposite of Script 1\n    if (isMistakeStyle && currentScriptIndex === 1) {\n      const script1Type = selectedScripts[0]?.type;\n      const targetType = script1Type === \"mistake_engagement\" ? \"mistake\" : \"mistake_engagement\";\n      return scripts.filter(s => s.type === targetType);\n    }\n    // For Mistake styles, Scripts 3, 5 show mistake scripts\n    if (isMistakeStyle && (currentScriptIndex === 2 || currentScriptIndex === 4)) {\n      return scripts.filter(s => s.type === \"mistake\");\n    }\n    // For Mistake styles, Script 4 shows mistake_viral\n    if (isMistakeStyle && currentScriptIndex === 3) {\n      return scripts.filter(s => s.type === \"mistake_viral\");\n    }\n    return scripts.filter(s => s.type === activeTab);\n  };\n  \n  const filteredScripts = getFilteredScripts();\n  \n  // Get the type label for a script position\n  const getScriptTypeLabel = (index, script) => {\n    if (index === 3) {\n      return script?.type === \"mistake_viral\" ? \"Mistake Viral Plug\" : \"Viral Plug\";\n    }\n    if (script?.type === \"engagement\") return \"Engagement Trigger\";\n    if (script?.type === \"mistake_engagement\") return \"Mistake Engagement\";\n    if (script?.type === \"mistake\") return \"Mistake Script\";\n    if (script?.type === \"mistake_viral\") return \"Mistake Viral Plug\";\n    return \"Other Script\";\n  };\n\n  // Get the subtitle for current script\n  const getScriptSubtitle = () => {\n    if (isMistakeStyle) {\n      if (currentScriptIndex === 0) return \"Choose: Mistake Scripts OR Mistake Engagement\";\n      if (currentScriptIndex === 1) {\n        const script1Type = selectedScripts[0]?.type;\n        return script1Type === \"mistake_engagement\" ? \"Mistake Scripts (auto-selected)\" : \"Mistake Engagement (auto-selected)\";\n      }\n      if (currentScriptIndex === 2) return \"Mistake Scripts\";\n      if (currentScriptIndex === 3) return \"Mistake Viral Plug (Mistake Style)\";\n      if (currentScriptIndex === 4) return \"Mistake Scripts\";\n    }\n    if (currentScriptIndex === 0) return \"Choose: Other Scripts OR Engagement Triggers\";\n    if (currentScriptIndex === 1) {\n      const script1Type = selectedScripts[0]?.type;\n      return script1Type === \"engagement\" ? \"Other Scripts (auto-selected)\" : \"Engagement Triggers (auto-selected)\";\n    }\n    if (currentScriptIndex === 2) return \"Other Scripts\";\n    if (currentScriptIndex === 3) return \"Viral Plug Required\";\n    if (currentScriptIndex === 4) return \"Other Scripts\";\n    return \"\";\n  };\n\n  // Check if a script can be selected for current position\n  const canSelectScript = (script) => {\n    // Check if already selected\n    const isSelected = selectedScripts.some(s => s?.id === script.id);\n    if (isSelected) return false;\n    \n    // Script 4: For Mistake styles use mistake_viral, otherwise viral_plug\n    if (currentScriptIndex === 3) {\n      return isMistakeStyle ? script.type === \"mistake_viral\" : script.type === \"viral_plug\";\n    }\n    // Mistake viral only for Script 4 in Mistake styles\n    if (script.type === \"mistake_viral\") {\n      return isMistakeStyle && currentScriptIndex === 3;\n    }\n    // Viral plug only for Script 4 in normal styles\n    if (script.type === \"viral_plug\") {\n      return !isMistakeStyle && currentScriptIndex === 3;\n    }\n    \n    // For Mistake styles, Script 1 can choose mistake or mistake_engagement\n    if (isMistakeStyle && currentScriptIndex === 0) {\n      return script.type === \"mistake\" || script.type === \"mistake_engagement\";\n    }\n    // For Mistake styles, Script 2 must be opposite of Script 1\n    if (isMistakeStyle && currentScriptIndex === 1) {\n      const script1Type = selectedScripts[0]?.type;\n      return script.type !== script1Type;\n    }\n    // For Mistake styles, Scripts 3, 5 show mistake scripts\n    if (isMistakeStyle && (currentScriptIndex === 2 || currentScriptIndex === 4)) {\n      return script.type === \"mistake\";\n    }\n    \n    // Script 1: can choose either other or engagement\n    if (currentScriptIndex === 0) {\n      return script.type === \"other\" || script.type === \"engagement\";\n    }\n    \n    // Script 2: must be opposite of script 1\n    if (currentScriptIndex === 1) {\n      const script1Type = selectedScripts[0]?.type;\n      return script.type !== script1Type;\n    }\n    \n    // Script 3 and 5: only other scripts (engagement already used in script 1 or 2)\n    if (currentScriptIndex === 2 || currentScriptIndex === 4) {\n      return script.type === \"other\";\n    }\n    \n    return true;\n  };\n\n  // Get disabled reason for a script\n  const getDisabledReason = (script) => {\n    if (selectedScripts.some(s => s?.id === script.id)) {\n      return \"Already selected\";\n    }\n    // For Mistake styles, Script 2 must be opposite of Script 1\n    if (isMistakeStyle && currentScriptIndex === 1) {\n      const script1Type = selectedScripts[0]?.type;\n      if (script.type === script1Type) {\n        return `Script 1 already selected ${script1Type === \"mistake_engagement\" ? \"Mistake Engagement\" : \"Mistake Script\"}`;\n      }\n    }\n    // For Mistake styles, Scripts 3, 5 must be mistake\n    if (isMistakeStyle && (currentScriptIndex === 2 || currentScriptIndex === 4) && script.type !== \"mistake\") {\n      return \"Mistake style requires Mistake Scripts\";\n    }\n    if (currentScriptIndex === 1) {\n      const script1Type = selectedScripts[0]?.type;\n      if (script.type === script1Type) {\n        return `Script 1 already selected ${script1Type === \"engagement\" ? \"Engagement Trigger\" : \"Other Script\"}`;\n      }\n    }\n    if (currentScriptIndex === 2 || currentScriptIndex === 4) {\n      if (script.type === \"engagement\") {\n        return \"Engagement Trigger already used\";\n      }\n    }\n    return \"\";\n  };\n\n  const handleRemoveScript = (index) => {\n    onSelect(undefined, index, true);\n    setCurrentScriptIndex(index);\n  };\n\n  // Get available types for Script 1 choice buttons\n  const getAvailableTypesForScript1 = () => {\n    return [\n      { type: \"other\", label: \"Other Scripts\" },\n      { type: \"engagement\", label: \"Engagement Triggers\" }\n    ];\n  };\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n    >\n      <h2 className=\"text-lg md:text-2xl font-bold text-center mb-2 text-[#0F172A]\">Choose Your 5 Scripts</h2>\n      <p className=\"text-slate-500 text-center mb-2 text-xs md:text-sm\">\n        {isMistakeStyle \n          ? \"Mistake Style: Script 1 = Mistake Engagement • Scripts 2,3,5 = Mistake Scripts • Script 4 = Mistake Viral Plug\"\n          : \"Script 1: Choose type • Script 2: Auto-filled opposite • Script 4: Viral Plug • Scripts 3 & 5: Other Scripts\"}\n      </p>\n      \n      {/* Script Selection Progress */}\n      <div className=\"bg-white rounded-xl md:rounded-2xl border border-slate-100 shadow-lg p-4 md:p-6 mb-4 md:mb-8\">\n        <h3 className=\"text-sm font-semibold text-center text-slate-600 mb-4\">Script Selection Progress</h3>\n        <div className=\"flex items-center justify-center gap-2\">\n          {[0, 1, 2, 3, 4].map((idx) => {\n            const script = selectedScripts[idx];\n            const isActive = idx === currentScriptIndex;\n            const isCompleted = script !== undefined;\n            \n            return (\n              <div key={idx} className=\"flex items-center\">\n                <div className=\"flex flex-col items-center min-w-[60px] md:min-w-[80px]\">\n                  <div\n                    className={`\n                      w-7 h-7 md:w-8 md:h-8 rounded-full flex items-center justify-center text-[10px] md:text-xs font-semibold cursor-pointer\n                      ${isCompleted ? 'bg-[#0F172A] text-white' : ''}\n                      ${isActive && !isCompleted ? 'bg-[#FF7870] text-white' : ''}\n                      ${!isActive && !isCompleted ? 'bg-white border-2 border-slate-200 text-slate-400' : ''}\n                    `}\n                    onClick={() => !isCompleted && setCurrentScriptIndex(idx)}\n                  >\n                    {isCompleted ? <Check className=\"w-3 h-3 md:w-4 md:h-4\" /> : idx + 1}\n                  </div>\n                  <span className=\"text-[8px] md:text-[10px] mt-1 font-medium text-slate-700\">Script {idx + 1}</span>\n                  <span className=\"text-[7px] md:text-[9px] text-slate-400 text-center hidden sm:block\">\n                    {getScriptTypeLabel(idx, script)}\n                  </span>\n                  {isCompleted && (\n                    <button\n                      onClick={() => handleRemoveScript(idx)}\n                      className=\"text-[8px] md:text-[10px] text-[#FF7870] hover:underline mt-1 font-medium\"\n                      data-testid={`remove-script-${idx}`}\n                    >\n                      Remove\n                    </button>\n                  )}\n                </div>\n                {idx < 4 && <ChevronRight className=\"w-2 h-2 md:w-3 md:h-3 mx-0.5 md:mx-1 text-slate-300\" />}\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      <h3 className=\"text-lg font-semibold mb-2 text-[#0F172A]\">\n        Select Script {currentScriptIndex + 1}\n      </h3>\n      <p className=\"text-sm text-slate-500 mb-4\">{getScriptSubtitle()}</p>\n      \n      {/* Tab Buttons - Only show for Script 1 */}\n      {currentScriptIndex === 0 && (\n        <div className=\"flex gap-2 mb-6\">\n          {isMistakeStyle ? (\n            <>\n              <TabButton\n                active={activeTab === \"mistake\" || selectedScripts[0]?.type === \"mistake\"}\n                onClick={() => setActiveTab(\"mistake\")}\n                testId=\"scripts-tab-mistake\"\n              >\n                Mistake Scripts\n              </TabButton>\n              <TabButton\n                active={activeTab === \"mistake_engagement\" || selectedScripts[0]?.type === \"mistake_engagement\"}\n                onClick={() => setActiveTab(\"mistake_engagement\")}\n                testId=\"scripts-tab-mistake-engagement\"\n              >\n                Mistake Engagement\n              </TabButton>\n            </>\n          ) : (\n            <>\n              <TabButton\n                active={activeTab === \"other\" || selectedScripts[0]?.type === \"other\"}\n                onClick={() => setActiveTab(\"other\")}\n                testId=\"scripts-tab-other\"\n              >\n                Other Scripts\n              </TabButton>\n              <TabButton\n                active={activeTab === \"engagement\" || selectedScripts[0]?.type === \"engagement\"}\n                onClick={() => setActiveTab(\"engagement\")}\n                testId=\"scripts-tab-engagement\"\n              >\n                Engagement Triggers\n              </TabButton>\n            </>\n          )}\n        </div>\n      )}\n\n      {/* For Script 2, show what type is being auto-selected */}\n      {currentScriptIndex === 1 && (\n        <div className=\"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-100\">\n          {isMistakeStyle ? (\n            <p className=\"text-sm text-blue-700\">\n              Script 1 selected: <span className=\"font-semibold\">{selectedScripts[0]?.type === \"mistake_engagement\" ? \"Mistake Engagement\" : \"Mistake Script\"}</span>\n              <br />\n              Script 2 must be: <span className=\"font-semibold\">{selectedScripts[0]?.type === \"mistake_engagement\" ? \"Mistake Script\" : \"Mistake Engagement\"}</span>\n            </p>\n          ) : (\n            <p className=\"text-sm text-blue-700\">\n              Script 1 selected: <span className=\"font-semibold\">{selectedScripts[0]?.type === \"engagement\" ? \"Engagement Trigger\" : \"Other Script\"}</span>\n              <br />\n              Script 2 must be: <span className=\"font-semibold\">{selectedScripts[0]?.type === \"engagement\" ? \"Other Script\" : \"Engagement Trigger\"}</span>\n            </p>\n          )}\n        </div>\n      )}\n\n      {/* For Script 4, show viral plug label */}\n      {currentScriptIndex === 3 && (\n        <div className=\"mb-4\">\n          <TabButton\n            active={true}\n            onClick={() => {}}\n            testId={isMistakeStyle ? \"scripts-tab-mistake-viral\" : \"scripts-tab-viral-plug\"}\n          >\n            {isMistakeStyle ? \"Mistake Viral Plug Scripts\" : \"Viral Plug Scripts\"}\n          </TabButton>\n        </div>\n      )}\n\n      {/* For Scripts 3 and 5, show other scripts label */}\n      {(currentScriptIndex === 2 || currentScriptIndex === 4) && (\n        <div className=\"mb-4\">\n          <TabButton\n            active={true}\n            onClick={() => {}}\n            testId={isMistakeStyle ? \"scripts-tab-mistake\" : \"scripts-tab-other\"}\n          >\n            {isMistakeStyle ? \"Mistake Scripts\" : \"Other Scripts\"}\n          </TabButton>\n        </div>\n      )}\n\n      {/* Mobile: Card Layout */}\n      <div className=\"md:hidden space-y-3\">\n        {filteredScripts.map((script) => {\n          const isSelected = selectedScripts.some(s => s?.id === script.id);\n          const canSelect = canSelectScript(script);\n          const disabledReason = getDisabledReason(script);\n          \n          return (\n            <motion.div\n              key={script.id}\n              whileHover={{ backgroundColor: canSelect ? 'rgba(255, 120, 112, 0.05)' : undefined }}\n              className={`bg-white rounded-xl border border-slate-100 shadow-sm p-4 cursor-pointer transition-colors ${\n                isSelected ? 'bg-emerald-50/50 border-emerald-200' : ''\n              } ${!canSelect ? 'opacity-40 cursor-not-allowed' : ''}`}\n              onClick={() => canSelect && onSelect(script, currentScriptIndex)}\n              data-testid={`script-${script.id}`}\n              title={disabledReason}\n            >\n              <div className=\"flex items-start gap-3\">\n                <Checkbox \n                  checked={isSelected}\n                  disabled={!canSelect}\n                  onCheckedChange={() => canSelect && onSelect(script, currentScriptIndex)}\n                  data-testid={`script-checkbox-${script.id}`}\n                  className=\"mt-1\"\n                />\n                <div className=\"flex-1\">\n                  <p className=\"text-sm font-semibold text-[#0F172A] mb-1\">{script.paragraph1}</p>\n                  <p className=\"text-xs text-slate-600 mb-2\">{script.paragraph2}</p>\n                  {isSelected ? (\n                    <span className=\"text-emerald-600 text-xs font-medium\">Selected</span>\n                  ) : disabledReason ? (\n                    <span className=\"text-slate-400 text-xs italic\" title={disabledReason}>Unavailable</span>\n                  ) : (\n                    script.notes && <span className=\"text-slate-500 text-xs\">{script.notes}</span>\n                  )}\n                </div>\n              </div>\n            </motion.div>\n          );\n        })}\n      </div>\n      \n      {/* Desktop: Table Layout */}\n      <div className=\"hidden md:block bg-white rounded-2xl border border-slate-100 shadow-xl shadow-slate-200/50 overflow-hidden\">\n        <div className=\"grid grid-cols-[60px_80px_200px_1fr_100px] bg-[#0F172A] text-white text-xs font-bold uppercase tracking-wider\">\n          <div className=\"px-4 py-3\">Select</div>\n          <div className=\"px-4 py-3\">Rank</div>\n          <div className=\"px-4 py-3\">Paragraph 1</div>\n          <div className=\"px-4 py-3\">Paragraph 2</div>\n          <div className=\"px-4 py-3\">Notes</div>\n        </div>\n        \n        <div className=\"divide-y divide-slate-50\">\n          {filteredScripts.map((script) => {\n            const isSelected = selectedScripts.some(s => s?.id === script.id);\n            const canSelect = canSelectScript(script);\n            const disabledReason = getDisabledReason(script);\n            \n            return (\n              <motion.div\n                key={script.id}\n                whileHover={{ backgroundColor: canSelect ? 'rgba(255, 120, 112, 0.05)' : undefined }}\n                className={`grid grid-cols-[60px_80px_200px_1fr_100px] items-start cursor-pointer transition-colors ${\n                  isSelected ? 'bg-emerald-50/50 opacity-50' : ''\n                } ${!canSelect ? 'opacity-40 cursor-not-allowed' : ''}`}\n                onClick={() => canSelect && onSelect(script, currentScriptIndex)}\n                data-testid={`script-${script.id}`}\n                title={disabledReason}\n              >\n                <div className=\"px-4 py-4 flex justify-center\">\n                  <Checkbox \n                    checked={isSelected}\n                    disabled={!canSelect}\n                    onCheckedChange={() => canSelect && onSelect(script, currentScriptIndex)}\n                    data-testid={`script-checkbox-${script.id}`}\n                  />\n                </div>\n                <div className=\"px-4 py-4 text-sm text-slate-500\">\n                  {script.rank || '-'}\n                </div>\n                <div className=\"px-4 py-4 text-sm text-[#0F172A] font-medium\">\n                  {script.paragraph1}\n                </div>\n                <div className=\"px-4 py-4 text-sm text-slate-600\">\n                  {script.paragraph2}\n                </div>\n                <div className=\"px-4 py-4 text-sm text-slate-500\">\n                  {isSelected ? (\n                    <span className=\"text-emerald-600 font-medium\">Selected</span>\n                  ) : disabledReason ? (\n                    <span className=\"text-slate-400 italic\" title={disabledReason}>Unavailable</span>\n                  ) : (\n                    script.notes || '-'\n                  )}\n                </div>\n              </motion.div>\n            );\n          })}\n        </div>\n      </div>\n      \n      {/* Selection indicator */}\n      {selectedScripts[currentScriptIndex] && (\n        <motion.div\n          initial={{ opacity: 0, y: 10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"mt-4 p-3 bg-emerald-50 rounded-lg flex items-center gap-2 text-sm\"\n        >\n          <Check className=\"w-4 h-4 text-emerald-600\" />\n          <span className=\"text-emerald-700\">Script {currentScriptIndex + 1}: {selectedScripts[currentScriptIndex].paragraph1.substring(0, 40)}...</span>\n        </motion.div>\n      )}\n    </motion.div>\n  );\n};\n\n// Summary Step - Improved Layout\nconst SummaryStep = ({ selectedStyle, selectedHook, selectedScripts, onBackToEdit, onImageClick }) => {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      exit={{ opacity: 0, y: -20 }}\n    >\n      <h2 className=\"text-lg md:text-2xl font-bold text-center mb-2 text-[#0F172A]\">Content Summary</h2>\n      <p className=\"text-slate-500 text-center mb-4 md:mb-8 text-sm md:text-base\">Review your selections and copy each item for your content creation</p>\n      \n      <div className=\"space-y-4 md:space-y-6\">\n        {/* Visual Style Summary */}\n        <div className=\"bg-white rounded-xl md:rounded-2xl border border-slate-100 shadow-lg p-4 md:p-6\">\n          <h3 className=\"text-xs md:text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3 md:mb-4\">Visual Style</h3>\n          {selectedStyle ? (\n            <div>\n              <p className=\"font-semibold text-[#0F172A] mb-2 md:mb-3 text-sm md:text-base\">{selectedStyle.title}</p>\n              <div className=\"flex gap-2 md:gap-3\">\n                {selectedStyle.images.map((img, idx) => (\n                  <img\n                    key={idx}\n                    src={img}\n                    alt={`${selectedStyle.title} preview ${idx + 1}`}\n                    className=\"w-16 h-16 md:w-20 md:h-20 object-cover rounded-lg border border-slate-200 cursor-zoom-in hover:border-[#FF7870] hover:shadow-md transition-all\"\n                    onClick={() => onImageClick(selectedStyle.images.map((imgUrl, i) => ({ \n                      src: imgUrl, \n                      alt: `${selectedStyle.title} preview ${i + 1}` \n                    })))}\n                  />\n                ))}\n              </div>\n            </div>\n          ) : (\n            <p className=\"text-slate-400 text-sm\">No style selected</p>\n          )}\n        </div>\n\n        {/* Hook Summary */}\n        <div className=\"bg-white rounded-xl md:rounded-2xl border border-slate-100 shadow-lg p-4 md:p-6\">\n          <h3 className=\"text-xs md:text-sm font-semibold text-slate-500 uppercase tracking-wider mb-3 md:mb-4\">Hook</h3>\n          {selectedHook ? (\n            <div className=\"flex items-start justify-between gap-2 md:gap-4\">\n              <p className=\"text-[#0F172A] flex-1 text-sm md:text-base\">{selectedHook.idea}</p>\n              <CopyButton text={selectedHook.idea} label=\"Hook\" />\n            </div>\n          ) : (\n            <p className=\"text-slate-400 text-sm\">No hook selected</p>\n          )}\n        </div>\n\n        {/* Scripts Summary - Detailed Layout */}\n        <div className=\"bg-white rounded-xl md:rounded-2xl border border-slate-100 shadow-lg p-4 md:p-6\">\n          <h3 className=\"text-xs md:text-sm font-semibold text-slate-500 uppercase tracking-wider mb-4 md:mb-6\">Scripts</h3>\n          <div className=\"space-y-4 md:space-y-6\">\n            {selectedScripts.map((script, idx) => (\n              <div key={idx} className=\"border border-slate-100 rounded-lg md:rounded-xl p-3 md:p-5\">\n                <div className=\"flex items-center gap-2 md:gap-3 mb-3 md:mb-4\">\n                  <span className=\"text-base md:text-lg font-bold text-[#0F172A]\">Script {idx + 1}</span>\n                  <span className=\"px-2 py-0.5 md:px-3 md:py-1 bg-[#0F172A] text-white text-[10px] md:text-xs font-medium rounded-full\">\n                    Position {idx + 1}\n                  </span>\n                </div>\n                \n                {script ? (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-6\">\n                    <div>\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"text-xs md:text-sm font-medium text-slate-500\">Paragraph 1:</span>\n                        <CopyButton text={script.paragraph1} label={`Script ${idx + 1} P1`} />\n                      </div>\n                      <div className=\"bg-slate-50 rounded-lg p-3 md:p-4\">\n                        <p className=\"text-xs md:text-sm text-[#0F172A]\">{script.paragraph1}</p>\n                      </div>\n                    </div>\n                    <div>\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <span className=\"text-xs md:text-sm font-medium text-slate-500\">Paragraph 2:</span>\n                        <CopyButton text={script.paragraph2} label={`Script ${idx + 1} P2`} />\n                      </div>\n                      <div className=\"bg-slate-50 rounded-lg p-3 md:p-4\">\n                        <p className=\"text-xs md:text-sm text-[#0F172A]\">{script.paragraph2}</p>\n                      </div>\n                    </div>\n                  </div>\n                ) : (\n                  <p className=\"text-slate-400 text-xs md:text-sm\">Not selected</p>\n                )}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Back to Edit Button */}\n        <div className=\"flex justify-center pt-2 md:pt-4\">\n          <Button\n            variant=\"outline\"\n            onClick={onBackToEdit}\n            className=\"rounded-full px-4 md:px-8 py-3 md:py-6 font-medium border-slate-200 hover:bg-slate-50 text-sm md:text-base\"\n            data-testid=\"back-to-edit-btn\"\n          >\n            <ArrowLeft className=\"w-4 h-4 mr-1 md:mr-2\" />\n            Back to Edit\n          </Button>\n        </div>\n      </div>\n    </motion.div>\n  );\n};\n\n// Main Content Creator Component\nconst ContentCreator = () => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [visualStyles, setVisualStyles] = useState([]);\n  const [hooks, setHooks] = useState([]);\n  const [scripts, setScripts] = useState([]);\n  const [selectedStyle, setSelectedStyle] = useState(null);\n  const [selectedHook, setSelectedHook] = useState(null);\n  const [selectedScripts, setSelectedScripts] = useState([undefined, undefined, undefined, undefined, undefined]);\n  const [currentScriptIndex, setCurrentScriptIndex] = useState(0);\n  const [lastUpdated] = useState(new Date().toLocaleString('de-DE'));\n  const [lightboxImage, setLightboxImage] = useState(null);\n\n  const steps = [\n    { id: 1, label: \"Visual Style\", sublabel: \"Choose your style\" },\n    { id: 2, label: \"Hook\", sublabel: \"Select your hook\" },\n    { id: 3, label: \"Scripts\", sublabel: \"Pick 5 scripts\" },\n    { id: 4, label: \"Summary\", sublabel: \"Review & copy\" }\n  ];\n\n  useEffect(() => {\n    // Load data from local JSON file\n    setVisualStyles(contentData.visualStyles);\n    setHooks(contentData.hooks);\n    setScripts(contentData.scripts);\n  }, []);\n\n  const handleScriptSelect = (script, index, remove = false) => {\n    if (remove) {\n      const newScripts = [...selectedScripts];\n      newScripts[index] = undefined;\n      setSelectedScripts(newScripts);\n      setCurrentScriptIndex(index);\n      return;\n    }\n\n    const newScripts = [...selectedScripts];\n    newScripts[index] = script;\n    setSelectedScripts(newScripts);\n    \n    // Move to next empty slot\n    const nextEmpty = newScripts.findIndex((s, i) => i > index && s === undefined);\n    if (nextEmpty !== -1) {\n      setCurrentScriptIndex(nextEmpty);\n    } else {\n      // Find first empty slot\n      const firstEmpty = newScripts.findIndex(s => s === undefined);\n      if (firstEmpty !== -1) {\n        setCurrentScriptIndex(firstEmpty);\n      }\n    }\n  };\n\n  const canProceed = () => {\n    switch (currentStep) {\n      case 0: return selectedStyle !== null;\n      case 1: return selectedHook !== null;\n      case 2: return selectedScripts.filter(s => s !== undefined).length === 5;\n      default: return true;\n    }\n  };\n\n  const handleNext = () => {\n    if (canProceed() && currentStep < steps.length - 1) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleBackToEdit = () => {\n    setCurrentStep(0);\n  };\n\n  return (\n    <div className=\"min-h-screen\" data-testid=\"content-creator\">\n      <Toaster position=\"top-right\" />\n      \n      {/* Global Lightbox */}\n      {lightboxImage && (\n        <ImageLightbox\n          images={lightboxImage}\n          onClose={() => setLightboxImage(null)}\n        />\n      )}\n      \n      {/* Header */}\n      <header className=\"bg-white/80 backdrop-blur-md border-b border-slate-100 sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 md:px-6 py-3 md:py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-2 md:gap-3\">\n            <div className=\"w-7 h-7 md:w-8 md:h-8 bg-[#FF7870] rounded-lg flex items-center justify-center\">\n              <span className=\"text-white font-bold text-base md:text-lg\">V</span>\n            </div>\n            <span className=\"font-semibold text-[#0F172A] text-base md:text-lg\">She's Viral</span>\n          </div>\n          <div className=\"flex items-center gap-2 md:gap-4\">\n            <button className=\"flex items-center gap-1 md:gap-2 text-[#FF7870] hover:text-[#E66A63] text-xs md:text-sm font-medium\" data-testid=\"sign-out-btn\">\n              <LogOut className=\"w-3 h-3 md:w-4 md:h-4\" />\n              <span className=\"hidden sm:inline\">Sign Out</span>\n            </button>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"max-w-6xl mx-auto px-4 md:px-6 py-4 md:py-8\">\n        <div className=\"mb-4 md:mb-8\">\n          <h1 className=\"text-xl md:text-3xl font-bold text-[#0F172A]\">Content Dashboard</h1>\n          <p className=\"text-slate-500 text-xs md:text-sm\">Last updated: {lastUpdated}</p>\n        </div>\n\n        {/* Content Creator Card */}\n        <div className=\"bg-white rounded-2xl md:rounded-3xl border border-slate-100 shadow-xl md:shadow-2xl shadow-slate-200/50 p-4 md:p-8 lg:p-12\">\n          <h2 className=\"text-lg md:text-2xl font-bold text-center mb-4 md:mb-8 text-[#0F172A]\">Content Creator</h2>\n          \n          <Stepper currentStep={currentStep} steps={steps} />\n          \n          <AnimatePresence mode=\"wait\">\n            {currentStep === 0 && (\n              <VisualStyleStep\n                key=\"visual\"\n                visualStyles={visualStyles}\n                selectedStyle={selectedStyle}\n                onSelect={setSelectedStyle}\n                onImageClick={setLightboxImage}\n              />\n            )}\n            {currentStep === 1 && (\n              <HookStep\n                key=\"hook\"\n                hooks={hooks}\n                selectedHook={selectedHook}\n                onSelect={setSelectedHook}\n                selectedStyle={selectedStyle}\n              />\n            )}\n            {currentStep === 2 && (\n              <ScriptStep\n                key=\"scripts\"\n                scripts={scripts}\n                selectedScripts={selectedScripts}\n                onSelect={handleScriptSelect}\n                currentScriptIndex={currentScriptIndex}\n                setCurrentScriptIndex={setCurrentScriptIndex}\n                selectedStyle={selectedStyle}\n              />\n            )}\n            {currentStep === 3 && (\n              <SummaryStep\n                key=\"summary\"\n                selectedStyle={selectedStyle}\n                selectedHook={selectedHook}\n                selectedScripts={selectedScripts}\n                onBackToEdit={handleBackToEdit}\n                onImageClick={setLightboxImage}\n              />\n            )}\n          </AnimatePresence>\n        </div>\n\n        {/* Navigation Buttons - Fixed at bottom */}\n        {currentStep < 3 && (\n          <div className=\"fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-slate-100 py-3 md:py-4 px-4 md:px-6 z-40\">\n            <div className=\"max-w-6xl mx-auto flex justify-between gap-2 md:gap-4\">\n              <Button\n                variant=\"outline\"\n                onClick={handleBack}\n                disabled={currentStep === 0}\n                className=\"rounded-full px-4 md:px-8 py-3 md:py-6 font-medium border-slate-200 hover:bg-slate-50 text-sm md:text-base flex-1 md:flex-none\"\n                data-testid=\"back-btn\"\n              >\n                <ArrowLeft className=\"w-4 h-4 mr-1 md:mr-2\" />\n                <span className=\"hidden sm:inline\">Back</span>\n                <span className=\"sm:hidden\">Back</span>\n              </Button>\n              \n              <Button\n                onClick={handleNext}\n                disabled={!canProceed()}\n                className={`rounded-full px-4 md:px-8 py-3 md:py-6 font-medium text-sm md:text-base flex-1 md:flex-none ${\n                  canProceed() \n                    ? 'bg-[#FF7870] hover:bg-[#E66A63] text-white shadow-lg shadow-pink-200' \n                    : 'bg-slate-100 text-slate-400'\n                }`}\n                data-testid=\"next-btn\"\n              >\n                <span className=\"hidden sm:inline\">Next</span>\n                <span className=\"sm:hidden\">Next</span>\n                <ArrowRight className=\"w-4 h-4 ml-1 md:ml-2\" />\n              </Button>\n            </div>\n          </div>\n        )}\n        \n        {/* Spacer for fixed navigation */}\n        {currentStep < 3 && <div className=\"h-20 md:h-24\"></div>}\n      </main>\n    </div>\n  );\n};\n\nfunction App() {\n  return <ContentCreator />;\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}